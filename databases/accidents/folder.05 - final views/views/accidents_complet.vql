CREATE OR REPLACE VIEW accidents_complet FOLDER = '/05 - final views' AS SELECT accidents.num_acc AS num_acc, accidents.adresse AS adresse, accidents.latitude AS latitude, accidents.longitude AS longitude, accidents.departement AS departement, accidents.luminosite AS luminosite, accidents.accident_timestamp AS accident_timestamp, accidents.intersection AS intersection, accidents.agglomeration_indicateur AS agglomeration_indicateur, accidents.meteo AS meteo, accidents.collision_type AS collision_type, accidents.code_commune AS code_commune, accidents.nom_commune AS nom_commune, list(register(iv_usagers.num_veh, iv_usagers.sexe, iv_usagers.annee_naissance, iv_usagers.categorie_usager, iv_usagers.gravite, iv_usagers.motif_deplacement, iv_usagers.equipement_securite, iv_usagers.presence_equipement)) AS usagers, accidents.accident_annee AS accident_annee FROM accidents AS accidents LEFT OUTER JOIN iv_usagers AS iv_usagers ON accidents.num_acc = iv_usagers.num_acc  GROUP BY accidents.num_acc, accidents.adresse, accidents.latitude, accidents.longitude, accidents.departement, accidents.luminosite, accidents.accident_timestamp, accidents.intersection, accidents.agglomeration_indicateur, accidents.meteo, accidents.collision_type, accidents.code_commune, accidents.nom_commune, accidents.accident_annee;

ALTER VIEW accidents_complet
 LAYOUT (accidents = [93, 115, 200, 225], iv_usagers = [561, 69, 200, 225]);

